<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>캐릭터 선택 - WonDieWorld</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 캐릭터 선택 전용 스타일 -->
  <link rel="stylesheet" href="select.css" />
</head>
<body>
  <!-- 배경 영상: 경로/파일명은 프로젝트에 맞게 수정 -->
  <video id="bg-video" autoplay muted loop>
    <source src="main_plaza.mp4" type="video/mp4" />
  </video>

  <div class="cs-overlay">
    <!-- 로고: 이미지 있으면 아래 src 경로만 맞춰줘 -->
    <div class="cs-logo">
      <!-- <img src="img/wondieworld_logo.png" alt="WonDieWorld" /> -->
      WonDieWorld
    </div>

    <div class="cs-panel">
      <div class="cs-title">캐릭터 선택</div>

      <!-- 캐릭터 카드 영역 -->
      <div class="cs-carousel">
        <!-- 좌측 화살표 (지금은 동작 안 함, 나중에 슬라이드용으로 사용 가능) -->
        <button class="cs-arrow cs-arrow-left">&lt;</button>

        <div class="cs-cards">
          <!-- 캐릭터 1: 인간 -->
          <div class="cs-card selected" data-id="human">
            <!-- 초상화 이미지: 네가 만든 PNG로 교체 -->
            <img
              class="cs-portrait"
              src="img/portraits/human.png"
              alt="닝겐"
            />
            <div class="cs-name">닝겐</div>
          </div>

          <!-- 캐릭터 2: 고양이 인간 -->
          <div class="cs-card" data-id="cat">
            <img
              class="cs-portrait"
              src="img/portraits/cat.png"
              alt="네코"
            />
            <div class="cs-name">네코</div>
          </div>

          <!-- 캐릭터 3: 공돌이 스타일 -->
          <div class="cs-card" data-id="robot">
            <img
              class="cs-portrait"
              src="img/portraits/robot.png"
              alt="디바"
            />
            <div class="cs-name">디바</div>
          </div>
        </div>

        <!-- 우측 화살표 -->
        <button class="cs-arrow cs-arrow-right">&gt;</button>
      </div>

      <!-- 캐릭터 설명 -->
      <div class="cs-desc" id="cs-desc">
        닝겐: 기본 인간 캐릭터. 이동 속도가 균형 잡힌 마을 주민입니다.
      </div>

      <!-- 버튼 영역 -->
      <div class="cs-buttons">
        <button class="cs-btn cs-btn-secondary" onclick="goBack()">
          뒤로
        </button>
        <button class="cs-btn cs-btn-primary" onclick="confirmCharacter()">
          이 캐릭터로 시작
        </button>
      </div>
    </div>
  </div>

  <script>
    // ---- 캐릭터 카드 클릭 / 설명 변경 ----
    const cards = document.querySelectorAll(".cs-card");
    const descEl = document.getElementById("cs-desc");

    // 캐릭터별 설명 문구
    const descriptions = {
      human:
        "닝겐: 기본 인간 캐릭터. 이동 속도가 균형 잡힌 마을 주민입니다.",
      cat:
        "네코: 고양이 인간 캐릭터. 조금 더 빠르고 감정 표현이 풍부합니다.",
      robot:
        "디바: 로봇 동료와 함께 다니는 캐릭터. 기술 상호작용에 특화되어 있습니다.",
    };

    // 카드 클릭 시 선택 상태 변경 + 설명 갱신
    cards.forEach((card) => {
      card.addEventListener("click", () => {
        cards.forEach((c) => c.classList.remove("selected"));
        card.classList.add("selected");

        const id = card.dataset.id; // human / cat / robot
        descEl.textContent = descriptions[id] || "";
      });
    });

    // ---- [중요] 선택된 캐릭터를 저장하고 게임 화면으로 이동 ----
    function confirmCharacter() {
      const selected = document.querySelector(".cs-card.selected");
      const id = selected ? selected.dataset.id : "human";

      // 여기서 선택한 캐릭터 id를 브라우저에 저장
      // index.html(게임 시작 페이지)에서 localStorage.getItem(...)으로 읽을 수 있음
      localStorage.setItem("wdw_selectedCharacter", id);

      // 게임 화면으로 이동 (필요하면 다른 페이지 이름으로 변경)
      window.location.href = "index.html";
    }

    // 뒤로가기: 로그인 화면(또는 원하는 페이지)으로 이동
    function goBack() {
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
